# iFlow CLI - i love delay é¡¹ç›®é…ç½®

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

**i love delay** æ˜¯ä¸€ä¸ªåå‘ä»»åŠ¡ç®¡ç†åº”ç”¨ï¼Œä¸“ä¸ºæ‹–å»¶ç—‡æ‚£è€…è®¾è®¡ã€‚ä¸ä¼ ç»Ÿä»»åŠ¡ç®¡ç†ä¸åŒï¼Œæˆ‘ä»¬é¼“åŠ±æ‹–å»¶å¹¶ä¸ºæ¯ä¸ªæ‹–å»¶ä»»åŠ¡æä¾›åˆ›æ„å€Ÿå£ã€‚

### æ ¸å¿ƒç‰¹è‰²
- ğŸ­ **é¼“åŠ±æ‹–å»¶**ï¼šä¸å®Œæˆä»»åŠ¡åè€Œè·å¾—å¥–åŠ±
- ğŸ“ **åˆ›æ„å€Ÿå£**ï¼šä¸ºæ¯ä¸ªæ‹–å»¶ä»»åŠ¡å†™æœ‰è¶£å€Ÿå£
- ğŸ“Š **æ‹–å»¶ç»Ÿè®¡**ï¼šåˆ†æä½ çš„æ‹–å»¶æ¨¡å¼å’Œä¹ æƒ¯
- âš¡ **æš´èµ°æ¨¡å¼**ï¼šçªå‡»å®Œæˆå †ç§¯çš„ä»»åŠ¡
- ğŸ“± **ç§»åŠ¨ä¼˜å…ˆ**ï¼šå®Œç¾é€‚é…æ‰‹æœºä½¿ç”¨åœºæ™¯
- ğŸ”„ **äº‘ç«¯åŒæ­¥**ï¼šæ”¯æŒSupabaseäº‘ç«¯æ•°æ®åŒæ­¥
- ğŸ“± **UniApp-Xé›†æˆ**ï¼šæ”¯æŒå°ç¨‹åºå’ŒAppå¤šç«¯éƒ¨ç½²

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18.x æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn

### å®‰è£…ä¸å¯åŠ¨
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint
```

### è®¿é—®åº”ç”¨
- å¼€å‘ç¯å¢ƒï¼šhttp://localhost:3000
- ç”Ÿäº§ç¯å¢ƒï¼šè‡ªåŠ¨éƒ¨ç½²åˆ° Vercel

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯
- **Next.js 15.5.2** - Reactæ¡†æ¶ï¼Œæ”¯æŒApp Router
- **TypeScript 5.x** - ç±»å‹å®‰å…¨
- **Tailwind CSS 4.x** - åŸå­åŒ–CSSæ¡†æ¶
- **React 19.1.0** - æœ€æ–°Reactç‰ˆæœ¬

### UIä¸ç»„ä»¶
- **Shadcn/ui** - ç°ä»£UIç»„ä»¶åº“
- **Radix UI** - æ— éšœç¢ç»„ä»¶åŸºç¡€
- **Lucide React 0.542.0** - å›¾æ ‡åº“
- **Tailwind Merge** - æ ·å¼åˆå¹¶å·¥å…·

### çŠ¶æ€ç®¡ç†
- **Zustand 5.0.8** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **TanStack Query 5.85.5** - æ•°æ®è·å–å’Œç¼“å­˜

### æ•°æ®å­˜å‚¨
- **Dexie 4.2.0** - IndexedDBå°è£…åº“
- **IndexedDB** - æµè§ˆå™¨æœ¬åœ°æ•°æ®åº“
- **localStorage** - ç®€å•é”®å€¼å­˜å‚¨
- **Supabase** - PostgreSQLäº‘ç«¯æ•°æ®åº“

### å·¥å…·åº“
- **Class Variance Authority 0.7.1** - æ ·å¼å˜ä½“ç®¡ç†
- **CLSX 2.1.1** - æ¡ä»¶æ ·å¼ç±»åç®¡ç†

## ğŸ“ é¡¹ç›®ç»“æ„

```
i-love-dalay-web/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ delayed/           # æ‹–å»¶ä»»åŠ¡é¡µé¢
â”‚   â”œâ”€â”€ rage/              # æš´èµ°æ¨¡å¼é¡µé¢
â”‚   â”œâ”€â”€ square/            # å¹¿åœºé¡µé¢ï¼ˆæ–°åŠŸèƒ½ï¼‰
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx           # ä»»åŠ¡é¦–é¡µ
â”œâ”€â”€ components/            # Reactç»„ä»¶
â”‚   â”œâ”€â”€ auth/             # è®¤è¯ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ delayed/          # æ‹–å»¶é¡µä¸“ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ rage/             # æš´èµ°é¡µä¸“ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ tasks/            # ä»»åŠ¡é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ sync/             # åŒæ­¥çŠ¶æ€ç»„ä»¶
â”‚   â””â”€â”€ ui/               # Shadcn/uiç»„ä»¶
â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types.ts          # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils.ts          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ db.ts             # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ supabase.ts       # Supabaseå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ sync-manager.ts   # æ•°æ®åŒæ­¥ç®¡ç†å™¨
â”‚   â”œâ”€â”€ task-scheduler.ts # ä»»åŠ¡è°ƒåº¦å™¨
â”‚   â””â”€â”€ uniapp-bridge.ts  # UniApp-Xæ¡¥æ¥
â”œâ”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ public/              # é™æ€èµ„æº
```

## ğŸ“Š æ•°æ®æ¨¡å‹

### ä»»åŠ¡æ•°æ®ç»“æ„
```typescript
interface Task {
  id: string                    // ä¸»é”®
  name: string                  // ä»»åŠ¡åç§°
  status: 'todo' | 'completed' | 'delayed'  // ä»»åŠ¡çŠ¶æ€
  createdAt: Date              // åˆ›å»ºæ—¶é—´
  updatedAt: Date              // æ›´æ–°æ—¶é—´
  delayCount: number           // æ‹–å»¶æ¬¡æ•°
  lastDelayedAt?: Date         // æœ€åæ‹–å»¶æ—¶é—´
  completedAt?: Date           // å®Œæˆæ—¶é—´
  userId?: string              // ç”¨æˆ·IDï¼ˆäº‘ç«¯åŒæ­¥ç”¨ï¼‰
}

interface Excuse {
  id: string                    // ä¸»é”®
  taskId: string               // å…³è”ä»»åŠ¡ID
  content: string              // å€Ÿå£å†…å®¹
  createdAt: Date              // åˆ›å»ºæ—¶é—´
  wordCount: number            // å­—æ•°ç»Ÿè®¡
}

interface Settings {
  id: string                    // ä¸»é”®
  theme: 'light' | 'dark'      // ä¸»é¢˜
  language: string             // è¯­è¨€
  wechatUser?: WechatUser      // å¾®ä¿¡ç”¨æˆ·ä¿¡æ¯
}

interface SyncStatus {
  lastSyncTime: number         // æœ€ååŒæ­¥æ—¶é—´
  isOnline: boolean           // æ˜¯å¦åœ¨çº¿
  pendingChanges: number      // å¾…åŒæ­¥å˜æ›´æ•°
}
```

## ğŸ”„ æ ¸å¿ƒåŠŸèƒ½æµç¨‹

### ä»»åŠ¡çŠ¶æ€è‡ªåŠ¨è½¬æ¢
- **åˆ›å»ºä»»åŠ¡**ï¼šåˆå§‹çŠ¶æ€ä¸º `todo`
- **è‡ªåŠ¨è½¬æ¢**ï¼šå½“å¤©æœªæ“ä½œçš„ä»»åŠ¡ï¼Œç¬¬äºŒå¤©è‡ªåŠ¨å˜ä¸º `delayed`
- **æ‰‹åŠ¨æ“ä½œ**ï¼šç”¨æˆ·å¯æ‰‹åŠ¨æ ‡è®°ä¸º `completed` æˆ– `delayed`

### æ•°æ®åŒæ­¥æœºåˆ¶
1. **æœ¬åœ°ä¼˜å…ˆ**ï¼šæ‰€æœ‰æ“ä½œå…ˆä¿å­˜åˆ°IndexedDB
2. **ç¦»çº¿æ”¯æŒ**ï¼šæ— ç½‘ç»œæ—¶æ­£å¸¸ä½¿ç”¨ï¼Œå˜æ›´æ’é˜Ÿ
3. **è‡ªåŠ¨åŒæ­¥**ï¼šç½‘ç»œæ¢å¤åè‡ªåŠ¨åŒæ­¥
4. **å†²çªè§£å†³**ï¼šä»¥æœ€æ–°æ›´æ–°æ—¶é—´ä¸ºå‡†
5. **å®æ—¶çŠ¶æ€**ï¼šæ˜¾ç¤ºåŒæ­¥çŠ¶æ€å’Œå¾…åŒæ­¥å˜æ›´æ•°

### é¡µé¢åŠŸèƒ½
1. **ä»»åŠ¡é¡µï¼ˆé¦–é¡µï¼‰**ï¼šåˆ›å»ºæ–°ä»»åŠ¡ï¼Œæ˜¾ç¤ºæ‰€æœ‰ `todo` çŠ¶æ€ä»»åŠ¡
2. **æ‹–å»¶é¡µ**ï¼šç®¡ç†æ‰€æœ‰ `delayed` çŠ¶æ€ä»»åŠ¡ï¼Œæä¾›å€Ÿå£åŠŸèƒ½
3. **æš´èµ°é¡µ**ï¼šçªå‡»å®Œæˆæ‹–å»¶ä»»åŠ¡ï¼Œæ”¯æŒæ‰¹é‡é€‰æ‹©
4. **å¹¿åœºé¡µ**ï¼šæ–°åŠŸèƒ½ï¼Œå¯èƒ½ç”¨äºç¤¾äº¤åˆ†äº«

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

| å‘½ä»¤ | æè¿° |
|------|------|
| `npm run dev` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ |
| `npm run build` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| `npm run start` | å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨ |
| `npm run lint` | è¿è¡ŒESLintä»£ç æ£€æŸ¥ |

## ğŸ¯ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
- éµå¾ªESLinté…ç½®
- ä½¿ç”¨å‡½æ•°ç»„ä»¶å’ŒHooks
- ç»„ä»¶å‘½åé‡‡ç”¨PascalCase
- æ–‡ä»¶å‘½åé‡‡ç”¨kebab-case

### çŠ¶æ€ç®¡ç†
- ä½¿ç”¨Zustandè¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†
- ç»„ä»¶å†…éƒ¨çŠ¶æ€ä½¿ç”¨useState
- å¤æ‚æ•°æ®æ“ä½œä½¿ç”¨React Query
- åŒæ­¥çŠ¶æ€ä½¿ç”¨SyncManagerå•ä¾‹

### æ ·å¼è§„èŒƒ
- ä½¿ç”¨Tailwind CSSåŸå­ç±»
- å“åº”å¼è®¾è®¡ä¼˜å…ˆ
- ç§»åŠ¨ç«¯ä¼˜å…ˆè®¾è®¡
- ä½¿ç”¨CSSå˜é‡ç®¡ç†ä¸»é¢˜

## ğŸš€ éƒ¨ç½²é…ç½®

### Verceléƒ¨ç½²
- è‡ªåŠ¨éƒ¨ç½²ï¼šmainåˆ†æ”¯æ¨é€è§¦å‘
- ç¯å¢ƒå˜é‡ï¼šæ”¯æŒé¢„è§ˆç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ
- æ€§èƒ½ä¼˜åŒ–ï¼šè‡ªåŠ¨ä»£ç åˆ†å‰²å’Œå‹ç¼©

### ç¯å¢ƒå˜é‡
```bash
# å¼€å‘ç¯å¢ƒ
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_ENV=development
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# ç”Ÿäº§ç¯å¢ƒ
NEXT_PUBLIC_API_URL=https://your-domain.com
NEXT_PUBLIC_ENV=production
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
```

### æ€§èƒ½ä¼˜åŒ–
- å›¾ç‰‡ä¼˜åŒ–ï¼šä½¿ç”¨Next.js Imageç»„ä»¶
- ä»£ç åˆ†å‰²ï¼šè·¯ç”±çº§åˆ«è‡ªåŠ¨åˆ†å‰²
- ç¼“å­˜ç­–ç•¥ï¼šé™æ€èµ„æºé•¿æœŸç¼“å­˜
- CDNåŠ é€Ÿï¼šå…¨çƒCDNåˆ†å‘

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…

### å“åº”å¼è®¾è®¡
- æ–­ç‚¹ï¼šsm (640px), md (768px), lg (1024px)
- ç§»åŠ¨ç«¯ä¼˜å…ˆï¼šåŸºç¡€æ ·å¼é€‚é…æ‰‹æœº
- è§¦æ‘¸ä¼˜åŒ–ï¼šæŒ‰é’®å¤§å°é€‚åˆæ‰‹æŒ‡æ“ä½œ

### PWAæ”¯æŒ
- å¯å®‰è£…åˆ°ä¸»å±å¹•
- ç¦»çº¿ä½¿ç”¨æ”¯æŒ
- å¯åŠ¨ç”»é¢é…ç½®

### UniApp-Xé›†æˆ
- æ”¯æŒå¾®ä¿¡å°ç¨‹åº
- æ”¯æŒAppæ‰“åŒ…
- ç»Ÿä¸€APIæ¥å£
- å¤šç«¯æ•°æ®åŒæ­¥

## ğŸ”§ ç¯å¢ƒé…ç½®

### Supabaseé…ç½®
1. åˆ›å»ºSupabaseé¡¹ç›®
2. è®¾ç½®æ•°æ®åº“è¡¨ç»“æ„
3. é…ç½®è®¤è¯ç­–ç•¥
4. è®¾ç½®å®æ—¶è®¢é˜…

### å¾®ä¿¡å°ç¨‹åºé…ç½®
1. æ³¨å†Œå¾®ä¿¡å°ç¨‹åºè´¦å·
2. é…ç½®æœåŠ¡å™¨åŸŸå
3. è®¾ç½®ä¸šåŠ¡åŸŸå
4. é…ç½®åˆ†äº«åŠŸèƒ½

## ğŸ“„ ç›¸å…³æ–‡æ¡£

- [éœ€æ±‚æ–‡æ¡£](./docs/requirements.md) - äº§å“éœ€æ±‚è¯¦ç»†è¯´æ˜
- [æŠ€æœ¯æ–‡æ¡£](./docs/technical.md) - æŠ€æœ¯æ¶æ„å’Œå®ç°ç»†èŠ‚
- [ä»»åŠ¡æ–‡æ¡£](./docs/tasks.md) - å¼€å‘ä»»åŠ¡æ¸…å•
- [éƒ¨ç½²æ–‡æ¡£](./docs/vercel-deployment.md) - Verceléƒ¨ç½²æŒ‡å—
- [Supabaseé…ç½®](./docs/supabase-setup.md) - Supabaseè®¾ç½®æŒ‡å—
- [UniApp-Xé›†æˆ](./docs/uniapp-x-integration.md) - å¤šç«¯éƒ¨ç½²æŒ‡å—

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§é¡¹ç›®æ ¹ç›®å½•LICENSEæ–‡ä»¶

---

*æœ€åæ›´æ–°ï¼š2025å¹´8æœˆ30æ—¥*